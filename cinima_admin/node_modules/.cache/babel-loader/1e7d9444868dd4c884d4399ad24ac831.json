{"remainingRequest":"/Users/gujianyang/IdeaProjects/cinima_admin/node_modules/babel-loader/lib/index.js!/Users/gujianyang/IdeaProjects/cinima_admin/node_modules/eslint-loader/index.js??ref--13-0!/Users/gujianyang/IdeaProjects/cinima_admin/src/router/dynamic/dynamic-route.js","dependencies":[{"path":"/Users/gujianyang/IdeaProjects/cinima_admin/src/router/dynamic/dynamic-route.js","mtime":1621176415884},{"path":"/Users/gujianyang/IdeaProjects/cinima_admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/gujianyang/IdeaProjects/cinima_admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/gujianyang/IdeaProjects/cinima_admin/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9Vc2Vycy9ndWppYW55YW5nL0lkZWFQcm9qZWN0cy9jaW5pbWFfYWRtaW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL2d1amlhbnlhbmcvSWRlYVByb2plY3RzL2NpbmltYV9hZG1pbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCB7IGdldFBlcm1pc3Npb25zIH0gZnJvbSAnQC9hcGkvdXNlcic7CmltcG9ydCBMYXlvdXQgZnJvbSAnQC9sYXlvdXQnOwp2YXIgbWFwID0gewogIGxvZ2luOiByZXF1aXJlKCdAL3ZpZXdzL3JlZGlyZWN0L2luZGV4JykuZGVmYXVsdCwKICAvLyDlkIzmraXnmoTmlrnlvI8sCiAgaWNvbnM6IHJlcXVpcmUoJ0Avdmlld3MvaWNvbnMvaW5kZXgnKS5kZWZhdWx0LAogIGNyZWF0ZV9hcnRpY2xlOiByZXF1aXJlKCdAL3ZpZXdzL2NoYXJ0cy9taXgtY2hhcnQnKS5kZWZhdWx0LAogIGNhbmNlbF9yZWFzb246IHJlcXVpcmUoJ0Avdmlld3Mvb3JkZXIvY2FuY2VsLXJlYXNvbicpLmRlZmF1bHQsCiAgb3JkZXJfc2V0dGluZzogcmVxdWlyZSgnQC92aWV3cy9vcmRlci9vcmRlci1zZXR0aW5nJykuZGVmYXVsdCwKICBjaW5lbWFfZG9jOiByZXF1aXJlKCdAL3ZpZXdzL2RvYy9jaW5lbWEvY2VuaW1hLWRvYycpLmRlZmF1bHQKfTsKCmZ1bmN0aW9uIGxvYWRQZXJtaXNzaW9uKCkgewogIHJldHVybiBfbG9hZFBlcm1pc3Npb24uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZnVuY3Rpb24gX2xvYWRQZXJtaXNzaW9uKCkgewogIF9sb2FkUGVybWlzc2lvbiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgIHZhciBkYXRhOwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgcmV0dXJuIGdldFBlcm1pc3Npb25zKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgZGF0YSA9IHJlcy5kYXRhOwogICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgZGF0YSA9IFtdOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIGRhdGEpOwoKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlKTsKICB9KSk7CiAgcmV0dXJuIF9sb2FkUGVybWlzc2lvbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpleHBvcnQgZnVuY3Rpb24gZ2V0QXN5bmNSb3V0ZXMoKSB7CiAgcmV0dXJuIF9nZXRBc3luY1JvdXRlcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBfZ2V0QXN5bmNSb3V0ZXMoKSB7CiAgX2dldEFzeW5jUm91dGVzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgIHZhciBkYXRhLCBwZXJtaXNzaW9ucywgaSwgaXRlbSwgY2hpbGRyZW4sIF9pdGVyYXRvciwgX3N0ZXAsIGNoaWxkOwoKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgcmV0dXJuIGxvYWRQZXJtaXNzaW9uKCk7CgogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICBkYXRhID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgIHBlcm1pc3Npb25zID0gW107CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpOwoKICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICBpdGVtID0gZGF0YVtpXTsKCiAgICAgICAgICAgICAgaWYgKGl0ZW0uY2hpbGRyZW4gPT09IHVuZGVmaW5lZCB8fCBpdGVtLmNoaWxkcmVuID09PSBudWxsKSB7CiAgICAgICAgICAgICAgICBwZXJtaXNzaW9ucy5wdXNoKHsKICAgICAgICAgICAgICAgICAgcGF0aDogaXRlbS5wYXRoLAogICAgICAgICAgICAgICAgICBjb21wb25lbnQ6IExheW91dCwKICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IFt7CiAgICAgICAgICAgICAgICAgICAgcGF0aDogJ2luZGV4JywKICAgICAgICAgICAgICAgICAgICBjb21wb25lbnQ6IG1hcFtpdGVtLmNvbXBvbmVudF0sCiAgICAgICAgICAgICAgICAgICAgbmFtZTogaXRlbS5uYW1lLAogICAgICAgICAgICAgICAgICAgIG1ldGE6IHsKICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBpdGVtLnRpdGxlLAogICAgICAgICAgICAgICAgICAgICAgaWNvbjogaXRlbS5pY29uLAogICAgICAgICAgICAgICAgICAgICAgbm9DYWNoZTogdHJ1ZQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfV0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBjaGlsZHJlbiA9IFtdOwogICAgICAgICAgICAgICAgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoaXRlbS5jaGlsZHJlbik7CgogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgICAgICAgICBjaGlsZCA9IF9zdGVwLnZhbHVlOwogICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuLnB1c2goewogICAgICAgICAgICAgICAgICAgICAgcGF0aDogY2hpbGQucGF0aCwKICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudDogbWFwW2NoaWxkLmNvbXBvbmVudF0sCiAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBjaGlsZC5uYW1lLAogICAgICAgICAgICAgICAgICAgICAgbWV0YTogewogICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogY2hpbGQudGl0bGUKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICAgICAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICAgICAgICBfaXRlcmF0b3IuZigpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHBlcm1pc3Npb25zLnB1c2goewogICAgICAgICAgICAgICAgICBwYXRoOiBpdGVtLnBhdGgsCiAgICAgICAgICAgICAgICAgIGNvbXBvbmVudDogTGF5b3V0LAogICAgICAgICAgICAgICAgICBhbHdheXNTaG93OiB0cnVlLAogICAgICAgICAgICAgICAgICAvLyB3aWxsIGFsd2F5cyBzaG93IHRoZSByb290IG1lbnUKICAgICAgICAgICAgICAgICAgbmFtZTogaXRlbS5uYW1lLAogICAgICAgICAgICAgICAgICBtZXRhOiB7CiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGl0ZW0udGl0bGUsCiAgICAgICAgICAgICAgICAgICAgaWNvbjogaXRlbS5pY29uCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBjaGlsZHJlbgogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgcGVybWlzc2lvbnMpOwoKICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTIpOwogIH0pKTsKICByZXR1cm4gX2dldEFzeW5jUm91dGVzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0="},{"version":3,"sources":["/Users/gujianyang/IdeaProjects/cinima_admin/src/router/dynamic/dynamic-route.js"],"names":["getPermissions","Layout","map","login","require","default","icons","create_article","cancel_reason","order_setting","cinema_doc","loadPermission","then","res","data","catch","getAsyncRoutes","permissions","console","log","i","length","item","children","undefined","push","path","component","name","meta","title","icon","noCache","child","alwaysShow"],"mappings":"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","sourcesContent":["import { getPermissions } from '@/api/user'\nimport Layout from '@/layout'\n\nconst map = {\n  login: require('@/views/redirect/index').default, // 同步的方式,\n  icons: require('@/views/icons/index').default,\n  create_article: require('@/views/charts/mix-chart').default,\n  cancel_reason: require('@/views/order/cancel-reason').default,\n  order_setting: require('@/views/order/order-setting').default,\n  cinema_doc: require('@/views/doc/cinema/cenima-doc').default\n}\nasync function loadPermission() {\n  let data\n  await getPermissions().then(res => {\n    data = res.data\n  }).catch(() => {\n    data = []\n  })\n  return data\n}\nexport async function getAsyncRoutes() {\n  const data = await loadPermission()\n  const permissions = []\n  console.log(data)\n  for (let i = 0; i < data.length; i++) {\n    const item = data[i]\n    if (item.children === undefined || item.children === null) {\n      permissions.push({\n        path: item.path,\n        component: Layout,\n        children: [\n          {\n            path: 'index',\n            component: map[item.component],\n            name: item.name,\n            meta: { title: item.title, icon: item.icon, noCache: true }\n          }\n        ]\n      })\n    } else {\n      const children = []\n      for (const child of item.children) {\n        children.push({\n          path: child.path,\n          component: map[child.component],\n          name: child.name,\n          meta: { title: child.title }\n        })\n      }\n      permissions.push({\n        path: item.path,\n        component: Layout,\n        alwaysShow: true, // will always show the root menu\n        name: item.name,\n        meta: {\n          title: item.title,\n          icon: item.icon\n        },\n        children: children\n      })\n    }\n  }\n  return permissions\n}\n"]}]}